<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>DtdResolver.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Clean POM Maven Plugin</a> &gt; <a href="index.source.html" class="el_package">net.trajano.mojo.cleanpom.internal</a> &gt; <span class="el_source">DtdResolver.java</span></div><h1>DtdResolver.java</h1><pre class="source lang-java linenums">package net.trajano.mojo.cleanpom.internal;

import java.io.IOException;

import org.xml.sax.Attributes;
import org.xml.sax.ContentHandler;
import org.xml.sax.EntityResolver;
import org.xml.sax.InputSource;
import org.xml.sax.Locator;
import org.xml.sax.SAXException;

/**
 * Processes the DOCTYPE tag if present so it can be recreated.
 */
<span class="fc" id="L15">public class DtdResolver implements</span>
    EntityResolver,
    ContentHandler {

    /**
     * Document locator.
     */
    private Locator documentLocator;

    /**
     * Name of the document element.
     */
    private String name;

    /**
     * Flag to indicate that a processing instruction was found.
     */
    private boolean processingInstructionFound;

    /**
     * Public ID.
     */
    private String publicId;

    /**
     * System ID.
     */
    private String systemId;

    /**
     * Does nothing. {@inheritDoc}
     */
    @Override
    public void characters(final char[] ch,
        final int start,
        final int length)
        throws SAXException {

        // does nothing
<span class="fc" id="L54">    }</span>

    /**
     * Does nothing. {@inheritDoc}
     */
    @Override
    public void endDocument()
        throws SAXException {

        // does nothing
<span class="fc" id="L64">    }</span>

    /**
     * Does nothing. {@inheritDoc}
     */
    @Override
    public void endElement(final String uri,
        final String localName,
        final String qName)
        throws SAXException {

        // does nothing
<span class="fc" id="L76">    }</span>

    /**
     * Does nothing. {@inheritDoc}
     */
    @Override
    public void endPrefixMapping(final String prefix)
        throws SAXException {

        // does nothing
<span class="fc" id="L86">    }</span>

    /**
     * Gets the document locator used to track the progress in the XML file.
     * 
     * @return the document locator.
     */
    public Locator getDocumentLocator() {

<span class="nc" id="L95">        return documentLocator;</span>
    }

    /**
     * Local name of the first element.
     *
     * @return local name of the first element
     */
    public String getName() {

<span class="nc" id="L105">        return name;</span>
    }

    /**
     * Public ID.
     *
     * @return public ID.
     */
    public String getPublicId() {

<span class="fc" id="L115">        return publicId;</span>
    }

    /**
     * System ID.
     *
     * @return system ID.
     */
    public String getSystemId() {

<span class="fc" id="L125">        return systemId;</span>
    }

    /**
     * Does nothing. {@inheritDoc}
     */
    @Override
    public void ignorableWhitespace(final char[] ch,
        final int start,
        final int length)
        throws SAXException {

        // does nothing
<span class="fc" id="L138">    }</span>

    /**
     * Checks if the DTD information is present.
     *
     * @return &lt;code&gt;true&lt;/code&gt; if the DTD information is present.
     */
    public boolean isDtdPresent() {

<span class="pc bpc" id="L147" title="1 of 6 branches missed.">        return name != null &amp;&amp; publicId != null &amp;&amp; systemId != null;</span>
    }

    /**
     * Checks if a processing instruction has been found so far.
     * 
     * @return &lt;code&gt;true&lt;/code&gt; if a processing instruction has been found so
     *         far.
     */
    public boolean isProcessingInstructionFound() {

<span class="nc" id="L158">        return processingInstructionFound;</span>
    }

    /**
     * Tracks that a processing instruction is found. {@inheritDoc}
     */
    @Override
    public void processingInstruction(final String target,
        final String data)
        throws SAXException {

<span class="fc" id="L169">        processingInstructionFound = true;</span>
<span class="fc" id="L170">    }</span>

    /**
     * Processes a DOCTYPE and extracts the data from it.
     *
     * @param doctypePublicId
     *            public ID
     * @param doctypeSystemId
     *            system ID
     * @return &lt;code&gt;null&lt;/code&gt;
     */
    @Override
    public InputSource resolveEntity(final String doctypePublicId,
        final String doctypeSystemId)
        throws SAXException,
        IOException {

<span class="fc" id="L187">        publicId = doctypePublicId;</span>
<span class="fc" id="L188">        systemId = doctypeSystemId;</span>

<span class="fc" id="L190">        return null;</span>
    }

    /**
     * {@inheritDoc}
     */
    @Override
    public void setDocumentLocator(final Locator locator) {

<span class="fc" id="L199">        documentLocator = locator;</span>
<span class="fc" id="L200">    }</span>

    /**
     * Does nothing. {@inheritDoc}
     */
    @Override
    public void skippedEntity(final String localName)
        throws SAXException {

        //does nothing
<span class="nc" id="L210">    }</span>

    /**
     * Does nothing. {@inheritDoc}
     */
    @Override
    public void startDocument()
        throws SAXException {

        //does nothing
<span class="fc" id="L220">    }</span>

    /**
     * Extracts local name the root element. Once it is determined this method
     * does nothing.
     *
     * @param uri
     *            URI
     * @param localName
     *            local name
     * @param qName
     *            qualified name
     * @param atts
     *            attributes
     */
    @Override
    public void startElement(final String uri,
        final String localName,
        final String qName,
        final Attributes atts)
        throws SAXException {

<span class="fc bfc" id="L242" title="All 2 branches covered.">        if (name == null) {</span>
<span class="fc" id="L243">            name = localName;</span>
        }

<span class="fc" id="L246">    }</span>

    /**
     * Does nothing. {@inheritDoc}
     */
    @Override
    public void startPrefixMapping(final String prefix,
        final String uri)
        throws SAXException {

        //does nothing
<span class="fc" id="L257">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.4.201502262128</span></div></body></html>